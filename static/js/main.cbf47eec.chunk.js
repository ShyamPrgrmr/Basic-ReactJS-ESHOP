(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(t,e,a){t.exports=a(42)},27:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),c=(a(27),a(5)),l=a.n(c),o=a(7),u=a(1),d=a(2),p=a(4),m=a(3),h=(a(29),a(18)),g=a.n(h),f=a(19),v=a.n(f),b=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state=t.props,t}return Object(d.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{style:x.block},r.a.createElement("img",{style:x.img,src:this.state.data.imgsrc}),r.a.createElement("div",{style:x.productData},r.a.createElement("div",{style:{fontSize:"9px",color:"#635d5c"}},"Product ID : "+this.state.data.id),r.a.createElement("div",{style:{fontSize:"25px",fontWeight:"700"}},this.state.data.title),r.a.createElement("div",{style:{marginTop:"10px"}},this.state.data.desc)),r.a.createElement("div",{style:x.buttonContainer},r.a.createElement("button",{title:"Edit Product",style:x.btn,onClick:function(e){e.preventDefault(),t.props.openEditDelete(t.state,"edit")}},r.a.createElement(g.a,{color:"#000"})),r.a.createElement("button",{title:"Delete Product",style:x.btn,onClick:function(e){e.preventDefault(),t.props.openEditDelete(t.state.data.id,"delete")}},r.a.createElement(v.a,{color:"#000"}))))}}]),a}(r.a.Component),x={block:{width:"80%",padding:"20px",margin:"10px",boxShadow:"2px 2px 2px 1px #8080df",display:"flex",borderRadius:"5px"},img:{minWidth:"100px",maxWidth:"100px",height:"100px",backgroundColor:"#000"},productData:{display:"flex",flexDirection:"column",paddingLeft:"10px"},buttonContainer:{marginLeft:"auto",display:"flex",height:"30px"},btn:{backgroundColor:"transparent",padding:"3px",borderRadius:"100px"}},E=function(t){return t.length>=3?/([a-zA-Z()"'&.,!\s])+/.test(t)?{valid:!0}:{valid:!1,msg:"Validation error!"}:{valid:!1,msg:"Title is too short!"}},y=function(t){return t.length>=5?/([A-Za-z0-9.,!'"&\s])+/.test(t)?{valid:!0}:{valid:!1,msg:"Validation error!"}:{valid:!1,msg:"Description is too short!"}},w=function(t){return/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/.test(t)?{valid:!0}:{valid:!1,msg:"url is not valid!"}},D=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={title:"",desc:"",imgsrc:"",id:""},t.createProduct=function(e){e.preventDefault();var a=E(t.state.title),n=y(t.state.desc),r=w(t.state.imgsrc),s={status:!1,msg:[]};a.valid||(s.msg.push(a.msg),s.status=!0),n.valid||(s.msg.push(n.msg),s.status=!0),r.valid||(s.msg.push(r.msg),s.status=!0),s.status?alert(s.msg.toString()):t.props.createProduct(t.state)},t}return Object(d.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{style:C.container},r.a.createElement("h2",{style:{textAlign:"center"}},"Create product"),r.a.createElement("label",{style:C.label},"Title"),r.a.createElement("input",{type:"text",onChange:function(e){t.setState({title:e.target.value})},placeholder:"Enter title"}),r.a.createElement("label",{style:C.label},"Image source"),r.a.createElement("input",{type:"text",onChange:function(e){t.setState({imgsrc:e.target.value})},placeholder:"Enter image src"}),r.a.createElement("img",{src:this.state.imgsrc,style:{maxWidth:"100px",maxHeight:"100px"}}),r.a.createElement("label",{style:C.label},"Description"),r.a.createElement("input",{type:"text",onChange:function(e){t.setState({desc:e.target.value})},placeholder:"Enter description"}),r.a.createElement("button",{style:C.btn,onClick:this.createProduct},"Create"))}}]),a}(n.Component),C={container:{width:"350px",display:"flex",flexDirection:"column"},label:{marginTop:"5px"},btn:{backgroundColor:"#8080df",marginTop:"10px"}},S=a(6),k=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){n.setState(Object(S.a)({},n.props.data))},n.editProduct=function(t){t.preventDefault();var e=E(n.state.title),a=y(n.state.desc),r=w(n.state.imgsrc),s={status:!1,msg:[]};e.valid||(s.msg.push(e.msg),s.status=!0),a.valid||(s.msg.push(a.msg),s.status=!0),r.valid||(s.msg.push(r.msg),s.status=!0),s.status?alert(s.msg.toString()):n.props.editProduct(n.state)},n.state={title:"",imgsrc:"",id:"",desc:""},n}return Object(d.a)(a,[{key:"render",value:function(){var t=this;this.props.data.title,this.props.data.desc,this.props.data.imgsrc;return r.a.createElement("div",{style:j.container},r.a.createElement("h2",{style:{textAlign:"center"}},"Edit Deatails"),r.a.createElement("label",{style:j.label},"Title"),r.a.createElement("input",{type:"text",value:this.state.title,placeholder:"Enter Title",onChange:function(e){t.setState({title:e.target.value})}}),r.a.createElement("label",{style:j.label},"Image source"),r.a.createElement("input",{type:"text",value:this.state.imgsrc,placeholder:"Enter Image Source",onChange:function(e){t.setState({imgsrc:e.target.value})}}),r.a.createElement("img",{src:this.state.imgsrc,style:{maxWidth:"100px",maxHeight:"100px"}}),r.a.createElement("label",{style:j.label},"Description"),r.a.createElement("input",{type:"text",value:this.state.desc,placeholder:"Enter Description",onChange:function(e){t.setState({desc:e.target.value})}}),r.a.createElement("button",{onClick:this.editProduct,style:j.btn},"Edit"))}}]),a}(n.Component),j={container:{width:"350px",display:"flex",flexDirection:"column"},label:{marginTop:"5px"},btn:{backgroundColor:"#8080df",marginTop:"10px"}},O=function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).componentDidMount=function(){n.setState(Object(S.a)({},n.props))},n.editProduct=function(t){t.preventDefault();var e=E(n.state.title),a=y(n.state.desc),r=w(n.state.imgsrc),s={status:!1,msg:[]};e.valid||(s.msg.push(e.msg),s.status=!0),a.valid||(s.msg.push(a.msg),s.status=!0),r.valid||(s.msg.push(r.msg),s.status=!0),s.status?alert(s.msg.toString()):n.props.editProduct(n.state)},n.state={title:"",imgsrc:"",id:"",desc:""},n}return Object(d.a)(a,[{key:"render",value:function(){var t=this;this.props.title,this.props.desc,this.props.imgsrc;return r.a.createElement("div",{style:P.container},r.a.createElement("h2",{style:{textAlign:"center"}},"Edit Deatails"),r.a.createElement("label",{style:P.label},"Title"),r.a.createElement("input",{type:"text",value:this.state.title,placeholder:"Enter Title",onChange:function(e){t.setState({title:e.target.value})}}),r.a.createElement("label",{style:P.label},"Image source"),r.a.createElement("input",{type:"text",value:this.state.imgsrc,placeholder:"Enter Image Source",onChange:function(e){t.setState({imgsrc:e.target.value})}}),r.a.createElement("img",{src:this.state.imgsrc,style:{maxWidth:"100px",maxHeight:"100px"}}),r.a.createElement("label",{style:P.label},"Description"),r.a.createElement("input",{type:"text",value:this.state.desc,placeholder:"Enter Description",onChange:function(e){t.setState({desc:e.target.value})}}),r.a.createElement("button",{onClick:this.editProduct,style:P.btn},"Edit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),t.props.openEditDelete(t.state.id,"delete")},style:P.btn},"Delete"))}}]),a}(n.Component),P={container:{width:"350px",display:"flex",flexDirection:"column"},label:{marginTop:"5px"},btn:{backgroundColor:"#8080df",marginTop:"10px"}},T=(a(41),function(t){Object(p.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={show:"list",products:[],data:{},id:"",url:"https://obscure-retreat-53927.herokuapp.com/"},t.fetchProduct=Object(o.a)(l.a.mark((function e(){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.state.url+"getproduct");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=[],n.success&&(r=n.products.map((function(t){return{id:t._id,title:t.title,imgsrc:t.imgsrc,desc:t.desc}}))),t.setState({products:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Error : "+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),t.createProduct=function(){var e=Object(o.a)(l.a.mark((function e(a){var n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.state.url+"createproduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent)?r.success&&(s=t.state.products,(new Date).getTime(),a.id=r.result._id,s.push(a),t.setState({products:s,show:"list"})):alert("Error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("error : "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),t.openEditDelete=function(e,a){if("edit"==a)t.setState({data:e,show:"edit"});else if("delete"==a){var n=e,r=t.state.products.filter((function(t){return t.id!==n}));1===t.state.products.length?t.setState({products:[],show:"list"}):t.setState({products:r,show:"list"})}},t.editProduct=function(){var e=Object(o.a)(l.a.mark((function e(a){var n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,e.prev=1,e.next=4,fetch(t.state.url+"editproduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent.success?(s=t.state.products.map((function(t){return t.id!==n?t:a})),t.setState({products:s,show:"list"})):t.setState({show:"list"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert("Error : "+e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),t.returnProduct=function(){return t.state.products.map((function(e){return r.a.createElement(b,{key:e.id,openEditDelete:t.openEditDelete,data:{title:e.title,desc:e.desc,imgsrc:e.imgsrc,id:e.id}})}))},t.componentDidMount=function(){t.fetchProduct()},t.show=function(){return"list"===t.state.show?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{}},"Product List"),t.returnProduct()):"create"===t.state.show?r.a.createElement(D,{createProduct:t.createProduct}):"edit"===t.state.show?r.a.createElement(k,Object.assign({},t.state.data,{editProduct:t.editProduct})):"search"===t.state.show?r.a.createElement(O,Object.assign({},t.state.data,{editProduct:t.editProduct,openEditDelete:t.openEditDelete})):void 0},t.searchById=function(e){e.preventDefault();var a=t.state.id,n=t.state.products.filter((function(t){return a===t.id}));1!==n.length?alert("Product is not found."):t.setState({show:"search",data:n[0]})},t.searchBar=function(){return"list"===t.state.show||"search"===t.state.show?r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement("input",{style:{marginRight:"10px",width:"400px"},onChange:function(e){t.setState({id:e.target.value})},placeholder:"Enter Product id"}),r.a.createElement("button",{style:I.btn,title:"You can edit or delete product by searching id.",onClick:t.searchById},"Search")):null},t.navMenu=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:"20px",fontWeight:"600"}},"Products"),r.a.createElement("div",{style:I.buttongrp},r.a.createElement("button",{className:"list"===t.state.show?"activebtn":"",onClick:function(e){e.preventDefault(),t.setState({show:"list"})}},"Show List"),r.a.createElement("button",{className:"create"===t.state.show?"activebtn":"",onClick:function(e){e.preventDefault(),t.setState({show:"create"})}},"Create Product")))},t}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:I.container},r.a.createElement("div",{style:I.navbar},this.navMenu()),r.a.createElement("div",{style:I.searchBar},this.searchBar()),r.a.createElement("div",{style:I.wrapper},this.show()))}}]),a}(r.a.Component)),I={container:{display:"flex",flexDirection:"column"},navbar:{height:"50px",backgroundColor:"#8080df",color:"#fff",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:"10px"},menu:{display:"flex",padding:"10px",paddingTop:"0px",flexDirection:"row",backgroundColor:"#8080df"},buttongrp:{display:"flex",marginLeft:"auto",marginRight:"10px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center"},searchBar:{display:"flex",alignItems:"center",marginTop:"10px"},btn:{backgroundColor:"#8080df",marginRight:"10px"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.cbf47eec.chunk.js.map